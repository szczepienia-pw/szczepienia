#!/usr/bin/expect -f
#
# This Expect script was generated by autoexpect on Thu Mar 10 23:20:35 2022
# Expect and autoexpect were both written by Don Libes, NIST.
#
# Note that autoexpect does not guarantee a working script.  It
# necessarily has to guess about certain things.  Two reasons a script
# might fail are:
#
# 1) timing - A surprising number of programs (rn, ksh, zsh, telnet,
# etc.) and devices discard or ignore keystrokes that arrive "too
# quickly" after prompts.  If you find your new script hanging up at
# one spot, try adding a short sleep just before the previous send.
# Setting "force_conservative" to 1 (see below) makes Expect do this
# automatically - pausing briefly before sending each character.  This
# pacifies every program I know of.  The -c flag makes the script do
# this in the first place.  The -C flag allows you to define a
# character to toggle this mode off and on.

set force_conservative 0  ;# set to 1 to force conservative mode even if
			  ;# script wasn't run conservatively originally
if {$force_conservative} {
	set send_slow {1 .1}
	proc send {ignore arg} {
		sleep .1
		exp_send -s -- $arg
	}
}

#
# 2) differing output - Some programs produce different output each time
# they run.  The "date" command is an obvious example.  Another is
# ftp, if it produces throughput statistics at the end of a file
# transfer.  If this causes a problem, delete these patterns or replace
# them with wildcards.  An alternative is to use the -p flag (for
# "prompt") which makes Expect only look for the last line of output
# (i.e., the prompt).  The -P flag allows you to define a character to
# toggle this mode off and on.
#
# Read the man page for more info.
#
# -Don


set timeout -1
spawn ./install-java.sh
match_max 100000
expect -exact "\rReading package lists... 0%\r\rReading package lists... 0%\r\rReading package lists... 0%\r\rReading package lists... 6%\r\rReading package lists... 6%\r\rReading package lists... 6%\r\rReading package lists... 6%\r\rReading package lists... 60%\r\rReading package lists... 60%\r\rReading package lists... 60%\r\rReading package lists... 60%\r\rReading package lists... 70%\r\rReading package lists... 70%\r\rReading package lists... 75%\r\rReading package lists... 75%\r\rReading package lists... 78%\r\rReading package lists... 81%\r\rReading package lists... 81%\r\rReading package lists... 81%\r\rReading package lists... 81%\r\rReading package lists... 81%\r\rReading package lists... 81%\r\rReading package lists... 81%\r\rReading package lists... 81%\r\rReading package lists... 89%\r\rReading package lists... 89%\r\rReading package lists... 94%\r\rReading package lists... 94%\r\rReading package lists... 99%\r\rReading package lists... 99%\r\rReading package lists... 99%\r\rReading package lists... 99%\r\rReading package lists... 99%\r\rReading package lists... 99%\r\rReading package lists... Done\r\r
\rBuilding dependency tree... 0%\r\rBuilding dependency tree... 0%\r\rBuilding dependency tree... 50%\r\rBuilding dependency tree... 50%\r\rBuilding dependency tree       \r\r
\rReading state information... 0%\r\rReading state information... 0%\r\rReading state information... Done\r\r
The following additional packages will be installed:\r
  gsfonts gsfonts-x11 xfonts-encodings xfonts-utils\r
Suggested packages:\r
  binfmt-support visualvm ttf-baekmuk | ttf-unfonts | ttf-unfonts-core ttf-kochi-gothic | ttf-sazanami-gothic ttf-kochi-mincho | ttf-sazanami-mincho ttf-arphic-uming firefox | firefox-2 | iceweasel\r
  | mozilla-firefox | iceape-browser | mozilla-browser | epiphany-gecko | epiphany-webkit | epiphany-browser | galeon | midbrowser | moblin-web-browser | xulrunner | xulrunner-1.9 | konqueror\r
  | chromium-browser | midori | google-chrome\r
The following NEW packages will be installed:\r
  gsfonts gsfonts-x11 oracle-java17-installer oracle-java17-set-default xfonts-encodings xfonts-utils\r
0 upgraded, 6 newly installed, 0 to remove and 0 not upgraded.\r
Need to get 3826 kB of archives.\r
After this operation, 5882 kB of additional disk space will be used.\r
Do you want to continue? \[Y/n\] "
send -- "y\r"
expect -exact "y\r
\[33m\r0% \[Working\]\[0m\[33m\r0% \[Working\]\[0m\[33m\r0% \[Working\]\[0m\[33m\r0% \[Working\]\[0m\[33m\r0% \[Working\]\[0m\[33m\r0% \[Working\]\[0m\[33m\r0% \[Working\]\[0m\[33m\r0% \[Working\]\[0m\[33m\r0% \[Working\]\[0m\[33m\r0% \[Connecting to archive.ubuntu.com\]\[0m\[33m\r0% \[Connecting to archive.ubuntu.com\]\[0m\[33m\r0% \[Connecting to archive.ubuntu.com\]\[0m\[33m\r0% \[Connecting to archive.ubuntu.com\]\[0m\[33m\r0% \[Connecting to archive.ubuntu.com\]\[0m\[33m\r0% \[Connecting to archive.ubuntu.com\]\[0m\[33m\r0% \[Connecting to archive.ubuntu.com\]\[0m\[33m\r0% \[Connecting to archive.ubuntu.com\]\[0m\r                                     \rGet:1 http://archive.ubuntu.com/ubuntu focal/universe amd64 gsfonts all 1:8.11+urwcyr1.0.7~pre44-4.4 \[3120 kB\]\r
\[33m\r                                     \r0% \[1 gsfonts 2611 B/3120 kB 0%\]\[0m\[33m\r22% \[1 gsfonts 1071 kB/3120 kB 34%\]\[0m\[33m\r47% \[1 gsfonts 2267 kB/3120 kB 73%\]\[0m\[33m\r                                   \r69% \[Working\]\[0m\r             \rGet:2 http://archive.ubuntu.com/ubuntu focal/main amd64 xfonts-encodings all 1:1.0.5-0ubuntu1 \[573 kB\]\r
\[33m\r69% \[2 xfonts-encodings 0 B/573 kB 0%\]\[0m\[33m\r                                      \r84% \[Working\]\[0m\r             \rGet:3 http://archive.ubuntu.com/ubuntu focal/main amd64 xfonts-utils amd64 1:7.7+6 \[91.5 kB\]\r
\[33m\r84% \[3 xfonts-utils 0 B/91.5 kB 0%\]\[0m\[33m\r                                   \r89% \[Working\]\[0m\r             \rGet:4 http://archive.ubuntu.com/ubuntu focal/universe amd64 gsfonts-x11 all 0.27 \[7120 B\]\r
\[33m\r89% \[4 gsfonts-x11 0 B/7120 B 0%\]\[0m\[33m\r                                 \r93% \[Working\]\[0m\[33m\r93% \[Connecting to ppa.launchpad.net\]\[0m\[33m\r93% \[Connecting to ppa.launchpad.net\]\[0m\[33m\r93% \[Connecting to ppa.launchpad.net\]\[0m\[33m\r93% \[Connecting to ppa.launchpad.net\]\[0m\[33m\r93% \[Connecting to ppa.launchpad.net\]                                                                                                                                                                603 kB/s 0s\[0m\[33m\r93% \[Connecting to ppa.launchpad.net\]                                                                                                                                                                603 kB/s 0s\[0m\[33m\r93% \[Connecting to ppa.launchpad.net\]                                                                                                                                                                603 kB/s 0s\[0m\[33m\r93% \[Connecting to ppa.launchpad.net\]                                                                                                                                                                603 kB/s 0s\[0m\r                                                                                                                                                                                                                \rGet:5 http://ppa.launchpad.net/linuxuprising/java/ubuntu focal/main amd64 oracle-java17-installer amd64 17.0.1-1~linuxuprising5 \[31.5 kB\]\r
\[33m\r93% \[5 oracle-java17-installer 2626 B/31.5 kB 8%\]                                                                                                                                                    603 kB/s 0s\[0m\[33m\r97% \[Working\]                                                                                                                                                                                        603 kB/s 0s\[0m\r                                                                                                                                                                                                                \rGet:6 http://ppa.launchpad.net/linuxuprising/java/ubuntu focal/main amd64 oracle-java17-set-default all 17.0.1-1~linuxuprising5 \[2540 B\]\r
\[33m\r97% \[6 oracle-java17-set-default 0 B/2540 B 0%\]                                                                                                                                                      603 kB/s 0s\[0m\[33m\r100% \[Working\]                                                                                                                                                                                       603 kB/s 0s\[0m\r                                                                                                                                                                                                                \rFetched 3826 kB in 14s (269 kB/s)\r
debconf: delaying package configuration, since apt-utils is not installed\r

7\[0;50r8\[1A(Reading database ... \r(Reading database ... 5%\r(Reading database ... 10%\r(Reading database ... 15%\r(Reading database ... 20%\r(Reading database ... 25%\r(Reading database ... 30%\r(Reading database ... 35%\r(Reading database ... 40%\r(Reading database ... 45%\r(Reading database ... 50%\r(Reading database ... 55%\r(Reading database ... 60%\r(Reading database ... 65%\r(Reading database ... 70%\r(Reading database ... 75%\r(Reading database ... 80%\r(Reading database ... 85%\r(Reading database ... 90%\r(Reading database ... 95%\r(Reading database ... 100%\r(Reading database ... 34421 files and directories currently installed.)\r
Preparing to unpack .../oracle-java17-installer_17.0.1-1~linuxuprising5_amd64.deb ...\r
7\[51;0f\[42m\[30mProgress: \[  0%\]\[49m\[39m \[...........................................................................................................................................................................................\] 87\[51;0f\[42m\[30mProgress: \[  4%\]\[49m\[39m \[#######....................................................................................................................................................................................\] 8debconf: unable to initialize frontend: Dialog\r
debconf: (No usable dialog-like program is installed, so the dialog based frontend cannot be used. at /usr/share/perl5/Debconf/FrontEnd/Dialog.pm line 76.)\r
debconf: falling back to frontend: Readline\r
Configuring oracle-java17-installer\r
-----------------------------------\r
\r
Oracle No-Fee Terms and Conditions (NFTC)\r
\r
\r
\r
You MUST agree to the license available in https://www.oracle.com/downloads/licenses/no-fee-license.html if you want to download and use Oracle JDK 17.\r
\r
Your use of this Program is governed by the No-Fee Terms and Conditions set forth below, unless you have received this Program (alone or as part of another Oracle product) under an Oracle license agreement\r
(including but not limited to the Oracle Master Agreement), in which case your use of this Program is governed solely by such license agreement with Oracle.\r
\r
Oracle No-Fee Terms and Conditions (NFTC)\r
\r
Definitions\r
\r
\"Oracle\" refers to Oracle America, Inc. \"You\" and \"Your\" refers to (a) a company or organization (each an \"Entity\") accessing the Programs, if use of the Programs will be on behalf of such Entity; or (b) an\r
individual accessing the Programs, if use of the Programs will not be on behalf of an Entity. \"Program(s)\" refers to Oracle software provided by Oracle pursuant to the following terms and any updates, error\r
corrections, and/or Program Documentation provided by Oracle. \"Program Documentation\" refers to Program user manuals and Program installation manuals, if any. If available, Program Documentation may be\r
delivered with the Programs and/or may be accessed from www.oracle.com/documentation. \"Separate Terms\" refers to separate license terms that are specified in the Program Documentation, readmes or notice files\r
and that apply to Separately Licensed Technology. \"Separately Licensed Technology\" refers to Oracle or third party technology that is licensed under Separate Terms and not under the terms of this license.\r
\r
Separately Licensed Technology\r
\r
Oracle may provide certain notices to You in Program Documentation, readmes or notice files in connection with Oracle or third party technology provided as or with the Programs. If specified in the Program\r
Documentation, readmes or notice files, such technology will be licensed to You under Separate Terms. Your rights to use Separately Licensed Technology under Separate Terms are not restricted in any way by\r
the terms herein. For clarity, notwithstanding the existence of a notice, third party technology that is not Separately Licensed Technology shall be deemed part of the Programs licensed to You under the terms\r
of this license.\r
\r
Source Code for Open Source Software\r
\r
For software that You receive from Oracle in binary form that is licensed under an open source license that gives You the right to receive the source code for that binary, You can obtain a copy of the\r
applicable source code from https://oss.oracle.com/sources/ or http://www.oracle.com/goto/opensourcecode. If the source code for such software was not provided to You with the binary, You can also receive a\r
copy of the source code on physical media by submitting a written request pursuant to the instructions in the \"Written Offer for Source Code\" section of the latter website.\r
\r
-------------------------------------------------------------------------------\r
\r
The following license terms apply to those Programs that are not provided to You under Separate Terms.\r
\r
License Rights and Restrictions\r
\r
Oracle grants to You, as a recipient of this Program, subject to the conditions stated herein, a nonexclusive, nontransferable, limited license to:\r
\r
(a) internally use the unmodified Programs for the purposes of developing, testing, prototyping and demonstrating your applications, and running the Program for Your own personal use or internal business\r
operations; and\r
\r
(b) redistribute the unmodified Program and Program Documentation, under the terms of this License, provided that You do not charge Your licensees any fees associated with such distribution or use of the\r
Program, including, without limitation, fees for products that include or are bundled with a copy of the Program or for services that involve the use of the distributed Program.\r
\[4m\[More\] \[24m\[1m"
send -- "\r"
expect -exact "\r
\[0m\[0m\r
\r
You may make copies of the Programs to the extent reasonably necessary for exercising the license rights granted herein and for backup purposes. You are granted the right to use the Programs to provide third\r
party training in the use of the Programs and associated Separately Licensed Technology only if there is express authorization of such use by Oracle on the Program's download page or in the Program\r
Documentation.\r
\r
Your license is contingent on compliance with the following conditions:\r
\r
- You do not remove markings or notices of either Oracle's or a licensor's proprietary rights from the Programs or Program Documentation;\r
\r
- You comply with all U.S. and applicable export control and economic sanctions laws and regulations that govern Your use of the Programs (including technical data);\r
\r
- You do not cause or permit reverse engineering, disassembly or decompilation of the Programs (except as allowed by law) by You nor allow an associated party to do so.\r
\r
For clarity, any source code that may be included in the distribution with the Programs is provided solely for reference purposes and may not be modified, unless such source code is under Separate Terms\r
permitting modification.\r
\r
Ownership\r
\r
Oracle or its licensors retain all ownership and intellectual property rights to the Programs.\r
\r
Information Collection\r
\r
The Programs' installation and/or auto-update processes, if any, may transmit a limited amount of data to Oracle or its service provider about those processes to help Oracle understand and optimize them.\r
Oracle does not associate the data with personally identifiable information. Refer to Oracle's Privacy Policy at www.oracle.com/privacy.\r
\r
Disclaimer of Warranties; Limitation of Liability\r
\r
THE PROGRAMS ARE PROVIDED \"AS IS\" WITHOUT WARRANTY OF ANY KIND. ORACLE FURTHER DISCLAIMS ALL WARRANTIES, EXPRESS AND IMPLIED, INCLUDING WITHOUT LIMITATION, ANY IMPLIED WARRANTIES OF MERCHANTABILITY, FITNESS\r
FOR A PARTICULAR PURPOSE, OR NONINFRINGEMENT.\r
\r
IN NO EVENT UNLESS REQUIRED BY APPLICABLE LAW WILL ORACLE BE LIABLE TO YOU FOR DAMAGES, INCLUDING ANY GENERAL, SPECIAL, INCIDENTAL OR CONSEQUENTIAL DAMAGES ARISING OUT OF THE USE OR INABILITY TO USE THE\r
PROGRAM (INCLUDING BUT NOT LIMITED TO LOSS OF DATA OR DATA BEING RENDERED INACCURATE OR LOSSES SUSTAINED BY YOU OR THIRD PARTIES OR A FAILURE OF THE PROGRAM TO OPERATE WITH ANY OTHER PROGRAMS), EVEN IF SUCH\r
HOLDER OR OTHER PARTY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.\r
\r
In order to install this package, you must accept the license terms, the \"Oracle No-Fee Terms and Conditions (NFTC)\". Not accepting will cancel the installation.\r
\r
\[4mDo you accept the Oracle No-Fee Terms and Conditions (NFTC) for Oracle Java SE terms? \[yes/no\] \[24m\[1m"
send -- "yes\r"
expect eof
